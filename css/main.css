*{
  box-sizing:border-box;
  margin:0;
  padding:0;
  font-family:Arial, Helvetica, sans-serif;
}

/* ===== FIX VH ANDROID =====
   --vh diset dari JS: window.innerHeight * 0.01
   jadi tinggi layar = calc(var(--vh) * 100)
*/
:root{
  --vh: 1vh;
  --vw: 1vw;
}

html, body{
  width:100%;
  height:calc(var(--vh) * 100);
  background:#0e1016;
  color:#eaeaea;
  overflow:hidden;
  overscroll-behavior:none;
}

/* ===== HEADER ===== */
.topbar{
  height:52px;
  padding:0 14px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  border-bottom:1px solid #2a2f45;
}

.title{
  font-weight:bold;
  letter-spacing:1px;
}

.menu-wrapper{ position:relative; }

.menu-btn{
  font-size:22px;
  background:none;
  border:none;
  color:#fff;
  cursor:pointer;
  -webkit-tap-highlight-color: transparent;
}

.menu-dropdown{
  position:absolute;
  right:0;
  top:34px;
  background:#1a1d2a;
  border:1px solid #2a2f45;
  width:220px;
  max-width:92vw;
  z-index:9999;
}

.menu-dropdown div{
  padding:10px 14px;
  cursor:pointer;
}

.menu-dropdown div:hover{ background:#4b5cff; }
.hidden{ display:none; }

/* ===== BG ===== */
.bg-image{
  position:fixed;
  inset:0;
  background:url("../img/bg-cdi.png") center center / 800px auto no-repeat;
  opacity:0.12;
  pointer-events:none;
}

/* ===== MAIN CONTENT (PAKAI VH FIX) ===== */
.content{
  padding:18px;
  height:calc((var(--vh) * 100) - 52px);
  overflow:auto;
  -webkit-overflow-scrolling:touch;
}

.empty{
  display:flex;
  justify-content:center;
  align-items:center;
}

.empty-text{
  color:#9a9a9a;
  letter-spacing:1px;
}

/* ===== TOOLBAR ===== */
.map-toolbar{
  display:flex;
  justify-content:flex-end;
  margin-bottom:8px;
}

.toolbar-right{
  display:flex;
  align-items:center;
  gap:10px;
  background:rgba(14,16,22,0.65);
  border:1px solid #2a2f45;
  padding:6px 8px;
}

.toolbar-right label{
  font-size:12px;
  color:#cfd3ff;
  display:flex;
  align-items:center;
  gap:6px;
}

.toolbar-right input{
  width:100px;
  background:#101320;
  border:1px solid #2a2f45;
  color:#fff;
  padding:3px 6px;
}

#sendBtn{
  background:#4b5cff;
  color:#fff;
  border:none;
  padding:6px 12px;
  cursor:pointer;
}

.send-status{ min-width:160px; font-size:12px; }
.send-ok{ color:#4cff8f; }
.send-fail{ color:#ff6b6b; }
.send-prog{ color:#ffd36b; }

/* ===== LAYOUT ===== */
.curve-layout{
  display:grid;
  grid-template-columns:180px 1fr;
  gap:10px;
}

/* kiri table */
.curve-left{
  background:rgba(14,16,22,0.65);
  border:1px solid #2a2f45;
  max-height:360px;
  overflow-y:auto;
}

.rpm-table{
  width:100%;
  border-collapse:collapse;
  font-size:12px;
}

.rpm-table th,.rpm-table td{
  border-bottom:1px solid #2a2f45;
  padding:4px 6px;
  text-align:right;
}

.rpm-table th{
  background:#1a1d2a;
  color:#cfd3ff;
  position:sticky;
  top:0;
}

.rpm-table input{
  width:60px;
  background:#101320;
  border:none;
  color:#fff;
  text-align:right;
}

/* ===== CANVAS =====
   IMPORTANT: biar drag titik di HP tidak berubah jadi scroll
*/
.curve-canvas{
  width:100%;
  height:360px;
  background:rgba(14,16,22,0.65);
  border:1px solid #2a2f45;
  cursor:crosshair;
  touch-action:none; /* KUNCI GESTURE: drag = drag titik */
}

/* ===== RESPONSIVE: LANDSCAPE =====
   Saat HP miring, biasanya ruang vertikal mengecil.
   Jadi canvas & table jangan keras 360px kalau gak muat.
*/
@media (orientation: landscape){
  .content{
    height:calc((var(--vh) * 100) - 52px);
  }

  /* turunkan tinggi elemen supaya tidak “terasa tidak rotate” */
  .curve-left{
    max-height:280px;
  }

  .curve-canvas{
    height:280px;
  }
}

/* ===== HP KECIL ===== */
@media (max-width:420px){
  .curve-layout{
    grid-template-columns:160px 1fr;
  }
}
